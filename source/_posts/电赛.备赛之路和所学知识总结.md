---
title: 全国大学生电子设计大赛
date : 2025-2-17 12:00:00
description : 记录电赛所学
categories: 竞赛
sticky : 4
top_img : https://cdn.jsdelivr.net/gh/C29999/P.bed/dca573a82d097759fc5fbd777dc002ac.png
cover : https://cdn.jsdelivr.net/gh/C29999/P.bed/dca573a82d097759fc5fbd777dc002ac.png
tags : 竞赛
---


1.keil开发环境配置
[学习链接](https://blog.csdn.net/uncle_xiaoli/article/details/132657548)
2.电赛常用函数

GPIO:

``` C++

DL_GPIO_setPins(GPIO_Regs *gpio, uint32_t pins)//设置为输出高电平

DL_GPIO_ClearPins(GPIO_Regs *gpio, uint32_t pins)//设置为输出低电平

DL_GPIO_togglePins(GPIO_Regs *gpio, uint32_t pins)//高低电平翻转
```

系统时钟：

``` C++
// SysTick->VAL,滴答定时器去延迟
void delay_ms(uint32_t ms)
{
    uint32_t ticks = ms * (CPUCLK_FREQ / 1000);  // 1000 * (32000000 / 1000) = 32,000,000
    uint32_t count_new = 0, count_old = 0;
    uint32_t count = 0;
    count_old = SysTick->VAL;

    while(1)
    {
        // 获取最新的计数值
        count_new = SysTick->VAL;

        // 如果最新和上一次的值不一样，说明有改动
        if (count_new != count_old)
        {
            // 如果新的值比旧的值小
            if (count_new < count_old)
            {
                count = count + (count_old - count_new);
            }
            // 如果新的值比旧的值大
            else if (count_new > count_old)
            {
                count = count + SysTick->LOAD - count_new + count_old;
            }

            // 更新旧的值
            count_old = count_new;

            // 如果已经达到我们的计数的次数了就结束
            if (count >= ticks) return;
        }
    }
}

2.
volatile uint32_t delay_value = 0;

void delay_ms(uint32_t ms)
{
    delay_value = 1000;
    while (delay_value != 0);
}

void SysTick_Handler(void)
{
    delay_value--;
}

```

>阻塞延迟和非阻塞延迟：
>>采用空语句的方式，称为阻塞延迟
>>采用中断的方式，称为非阻塞延迟

邓兄给的代码：
    ![邓哥给的代码](https://cdn.jsdelivr.net/gh/C29999/P.bed/8b591758c9b6a74ad245d99ed979ee62.png)
